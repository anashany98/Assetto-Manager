import{r as m,u as p,j as e,a as h,A as b}from"./index-MjGtIaAt.js";import{u,L as g}from"./useTelemetry-DLtRpw3M.js";const f=a=>{if(!a)return"0:00.000";const r=Math.floor(a/6e4),i=Math.floor(a%6e4/1e3),l=Math.round(a%1e3);return`${r}:${i.toString().padStart(2,"0")}.${l.toString().padStart(3,"0")}`},d=({label:a,value:r,sub:i,alert:l=!1})=>e.jsxs("div",{className:`bg-white/5 rounded-xl p-2.5 text-center border border-white/5 transition-colors ${l?"bg-red-500/10 border-red-500/20":""}`,children:[e.jsx("div",{className:"text-[8px] text-gray-500 font-black uppercase mb-1 tracking-widest",children:a}),e.jsxs("div",{className:`text-sm font-black italic leading-none tabular-nums ${l?"text-red-500":"text-white"}`,children:[r,e.jsx("span",{className:"text-[7px] ml-0.5 not-italic text-gray-500",children:i})]})]}),w=()=>{const{liveCars:a}=u(),[r,i]=m.useState("all"),{data:l}=p({queryKey:["stations"],queryFn:async()=>{try{const t=await h.get(`${b}/stations`);return Array.isArray(t.data)?t.data:[]}catch{return[]}},initialData:[]}),o=Object.values(a),s=r==="all"?o:o.filter(t=>t.station_id===String(r));return e.jsxs("div",{className:"h-screen w-screen bg-black overflow-hidden p-6 flex flex-col font-sans selection:bg-yellow-500/30",children:[e.jsx("style",{children:`
                .no-scrollbar::-webkit-scrollbar { display: none; }
                .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
            `}),e.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-500/10 blur-[120px] rounded-full pointer-events-none"}),e.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-yellow-500/5 blur-[120px] rounded-full pointer-events-none"}),e.jsxs("div",{className:"flex justify-between items-end mb-8 relative z-10",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-1",children:[e.jsx("div",{className:"px-2 py-0.5 bg-yellow-500 text-black text-[10px] font-black uppercase italic skew-x-[-15deg]",children:e.jsx("span",{className:"skew-x-[15deg] inline-block",children:"LIVE TRACKER"})}),e.jsxs("div",{className:"flex items-center space-x-1.5 overflow-hidden",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500 animate-pulse shadow-[0_0_8px_rgba(239,68,68,0.8)]"}),e.jsx("span",{className:"text-[10px] font-bold text-white/40 tracking-[0.2em] uppercase",children:"Telemetry Stream • 10Hz"})]})]}),e.jsxs("h1",{className:"text-5xl font-black text-white italic tracking-tighter uppercase leading-none",children:["Deepmind ",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-white to-white/40 font-black",children:"Raceway"})]})]}),e.jsxs("div",{className:"flex space-x-8 items-center border-l border-white/10 pl-8",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-gray-500 font-bold text-[10px] uppercase tracking-widest mb-1",children:"Sesión"}),e.jsx("div",{className:"text-white font-black uppercase text-xl italic leading-none",children:"Practica Libre"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-gray-500 font-bold text-[10px] uppercase tracking-widest mb-1",children:"Circuito"}),e.jsx("div",{className:"text-white font-black uppercase text-xl italic leading-none",children:s[0]?.track||"---"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-gray-500 font-bold text-[10px] uppercase tracking-widest mb-1",children:"Estación"}),e.jsxs("select",{value:r,onChange:t=>i(t.target.value==="all"?"all":Number(t.target.value)),className:"bg-gray-900 border border-white/10 rounded-lg px-3 py-1 text-white font-bold uppercase text-sm cursor-pointer focus:ring-2 focus:ring-yellow-500 outline-none",children:[e.jsxs("option",{value:"all",children:["Todas (",o.length,")"]}),Array.isArray(l)&&l.map(t=>e.jsx("option",{value:t.id,children:t.name||`Estación ${t.id}`},t.id))]})]})]})]}),e.jsxs("div",{className:"flex-1 grid grid-cols-12 gap-6 min-h-0 relative z-10",children:[e.jsx("div",{className:"col-span-8 flex flex-col",children:e.jsxs("div",{className:"flex-1 bg-gradient-to-br from-gray-900/50 to-black/50 rounded-[2rem] border border-white/5 overflow-hidden p-2 backdrop-blur-md relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-[0.03] pointer-events-none"}),e.jsx(g,{drivers:Array.isArray(s)?s.map(t=>({id:Number(t.station_id),name:t.driver||"---",x:t.x||0,z:t.z||0,normPos:t.normalized_pos||0,color:t.station_id==="1"?"#ef4444":t.station_id==="2"?"#3b82f6":t.station_id==="3"?"#22c55e":"#eab308",isOnline:!0})):[],trackName:Array.isArray(s)&&s.length>0?s[0]?.track:"Cargando..."})]})}),e.jsx("div",{className:"col-span-4 flex flex-col space-y-4 overflow-y-auto pr-2 no-scrollbar",children:Array.isArray(s)&&s.length>0?s.slice(0,4).sort((t,n)=>(n.normalized_pos||0)-(t.normalized_pos||0)).map((t,n)=>e.jsxs("div",{className:"relative group/card",children:[e.jsx("div",{className:"absolute -left-2 -top-2 w-8 h-8 bg-yellow-500 text-black font-black italic flex items-center justify-center rounded-lg z-20 shadow-lg skew-x-[-10deg] group-hover/card:scale-110 transition-transform",children:e.jsx("span",{className:"skew-x-[10deg]",children:n+1})}),e.jsxs("div",{className:"bg-gradient-to-r from-gray-900 via-gray-900/80 to-black border border-white/5 rounded-2xl p-5 transition-all duration-500 group-hover/card:border-yellow-500/40 group-hover/card:shadow-[0_0_30px_rgba(234,179,8,0.1)]",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"pl-6",children:[e.jsx("div",{className:"text-white font-black uppercase text-xl italic leading-none tracking-tighter mb-1.5 group-hover/card:text-yellow-500 transition-colors",children:t.driver||"---"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"px-1.5 py-0.5 bg-white/5 rounded text-[9px] font-bold text-gray-400 uppercase tracking-widest border border-white/5",children:t.car||"FS-24"}),e.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-700"}),e.jsxs("span",{className:"text-[9px] font-bold text-gray-500 uppercase tracking-widest",children:["P",n+1]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-white font-black text-3xl italic leading-none flex items-baseline justify-end tabular-nums",children:[Math.round(t.speed_kmh||0),e.jsx("span",{className:"text-[10px] text-gray-500 ml-1 not-italic font-extrabold tracking-widest",children:"KM/H"})]}),e.jsx("div",{className:"text-[14px] font-mono font-black text-yellow-500/60 tracking-tighter mt-1 tabular-nums",children:f(t.lap_time_ms||0)})]})]}),e.jsx("div",{className:"w-full h-1.5 bg-white/5 rounded-full mb-5 overflow-hidden border border-white/5",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-yellow-600 to-yellow-400 shadow-[0_0_15px_rgba(234,179,8,0.4)] transition-all duration-300",style:{width:`${(t.normalized_pos||0)*100}%`}})}),e.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[e.jsx(d,{label:"RPM",value:Math.round(t.rpm||0),sub:"MAX"}),e.jsx(d,{label:"FUEL",value:Math.round(t.fuel||0),sub:"LTR"}),e.jsx(d,{label:"TEMP",value:Math.round(t.engine_temp||0),sub:"°C",alert:(t.engine_temp||0)>105}),e.jsx(d,{label:"DMG",value:Math.round((Array.isArray(t.damage)?t.damage.reduce((c,x)=>c+x,0):0)*10)||0,sub:"%",alert:Array.isArray(t.damage)&&t.damage.some(c=>c>.2)})]})]})]},t.station_id)):e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-700 space-y-2 opacity-30",children:[e.jsx("div",{className:"w-12 h-12 border-2 border-dashed border-gray-700 rounded-full animate-spin-slow"}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest",children:"Esperando Telemetría"})]})})]}),e.jsxs("div",{className:"h-10 border-t border-white/5 mt-6 flex items-center justify-between px-2 relative z-10",children:[e.jsx("div",{className:"flex space-x-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-[10px] font-bold text-gray-600 uppercase",children:"Status"}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"})]})}),e.jsx("div",{className:"text-white/20 text-[10px] font-bold uppercase tracking-[0.3em]",children:"Advanced Agentic Coding • Assetto Manager Pro"})]})]})};export{w as default};
