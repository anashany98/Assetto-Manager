import{n,u as c,j as e,L as x,H as m,C as h}from"./index-MjGtIaAt.js";import{a as f}from"./telemetry-bBsdFDJe.js";import{A as p}from"./arrow-left-PwRceB5D.js";import{R as r,X as b}from"./CartesianChart-byA6CRUy.js";import{R as g,P as j,a as u,b as y,c as v}from"./RadarChart-ByOG8kGW.js";import{T as i}from"./Tooltip-BKNbpHsn.js";import{L as N,a as w}from"./LineChart-BAS0o-Op.js";import{C as k}from"./getRadiusAndStrokeWidthFromDot-hhzSCn0X.js";import{Y as A}from"./YAxis-hjvaWDO6.js";import{f as C}from"./format-CXITw4QJ.js";import{f as _}from"./formatDistanceToNow-DmnD85dQ.js";import{a as L}from"./es-D4NFJ41N.js";import"./clsx-B-dksMZM.js";import"./PolarChart-BobUyqbt.js";import"./en-US-BI35v3bL.js";function q(){const{driverName:a}=n(),{data:s,isLoading:l}=c({queryKey:["pilot",a],queryFn:()=>f(a),enabled:!!a});if(l)return e.jsx("div",{className:"p-8 text-white",children:"Cargando perfil..."});if(!s)return e.jsx("div",{className:"p-8 text-red-500",children:"Piloto no encontrado"});const o=[{subject:"Consistencia",A:s.avg_consistency,fullMark:100},{subject:"Experiencia",A:Math.min(100,s.total_laps/5),fullMark:100},{subject:"Actividad",A:Math.min(100,s.active_days*10),fullMark:100},{subject:"Versatilidad",A:Math.min(100,s.records.length*20),fullMark:100},{subject:"Velocidad",A:85,fullMark:100}],d=s.recent_sessions.slice().reverse().map(t=>({date:C(new Date(t.date),"dd/MM"),time:t.best_lap,originalDate:t.date}));return e.jsxs("div",{className:"p-8 max-w-7xl mx-auto min-h-screen bg-gray-950 text-white",children:[e.jsxs(x,{to:"/drivers",className:"inline-flex items-center text-gray-400 hover:text-white mb-8 transition-colors",children:[e.jsx(p,{size:20,className:"mr-2"})," Volver a Pilotos"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[e.jsx("div",{className:"lg:col-span-1 bg-gradient-to-br from-gray-900 to-gray-800 rounded-3xl p-8 border border-gray-700 shadow-2xl relative overflow-hidden",children:e.jsxs("div",{className:"relative z-10 text-center",children:[e.jsx("div",{className:"w-32 h-32 bg-gray-700 rounded-full mx-auto mb-6 flex items-center justify-center text-4xl font-bold border-4 border-gray-600 shadow-xl",children:a?.substring(0,2).toUpperCase()}),e.jsx("h1",{className:"text-3xl font-black italic uppercase tracking-tighter mb-2",children:a}),e.jsxs("div",{className:"flex justify-center gap-2 mb-6",children:[e.jsx("span",{className:"bg-yellow-500/20 text-yellow-500 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-widest border border-yellow-500/20",children:"ROOKIE"}),e.jsx("span",{className:"bg-blue-600/20 text-blue-400 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-widest border border-blue-500/20 flex items-center gap-1",children:"VMS Linked"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-left bg-black/20 p-4 rounded-xl",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 font-bold uppercase",children:"Victorias"}),e.jsx("div",{className:"text-xl font-mono font-bold text-yellow-500",children:s.total_wins})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 font-bold uppercase",children:"Podios"}),e.jsx("div",{className:"text-xl font-mono font-bold text-gray-300",children:s.total_podiums})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 font-bold uppercase",children:"Carreras"}),e.jsx("div",{className:"text-xl font-mono font-bold text-white",children:s.total_laps||0})," "]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 font-bold uppercase",children:"ELO Rating"}),e.jsx("div",{className:`text-xl font-mono font-bold ${s.elo_rating>=1500?"text-purple-400":"text-green-400"}`,children:Math.round(s.elo_rating)})]})]})]})}),e.jsxs("div",{className:"lg:col-span-2 bg-gray-900 rounded-3xl p-8 border border-gray-800 shadow-xl flex items-center justify-center relative",children:[e.jsx("h3",{className:"absolute top-8 left-8 text-xl font-black italic uppercase text-gray-500",children:"Análisis de Rendimiento"}),e.jsx("div",{className:"w-full h-[300px]",children:e.jsx(r,{width:"100%",height:"100%",children:e.jsxs(g,{cx:"50%",cy:"50%",outerRadius:"80%",data:o,children:[e.jsx(j,{stroke:"#374151"}),e.jsx(u,{dataKey:"subject",tick:{fill:"#9CA3AF",fontSize:12,fontWeight:"bold"}}),e.jsx(y,{angle:30,domain:[0,100],tick:!1,axisLine:!1}),e.jsx(v,{name:a,dataKey:"A",stroke:"#3B82F6",strokeWidth:3,fill:"#3B82F6",fillOpacity:.3}),e.jsx(i,{contentStyle:{backgroundColor:"#1F2937",borderColor:"#374151",borderRadius:"12px",color:"white"},itemStyle:{color:"#60A5FA"}})]})})})]})]}),e.jsxs("div",{className:"bg-gray-900 rounded-3xl p-8 border border-gray-800 shadow-xl mb-8",children:[e.jsx("div",{className:"flex justify-between items-end mb-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-black italic uppercase text-white mb-1",children:"Historial de Tiempos"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Evolución del ritmo en las últimas sesiones"})]})}),e.jsx("div",{className:"h-[300px] w-full",children:e.jsx(r,{width:"100%",height:"100%",children:e.jsxs(N,{data:d,children:[e.jsx(k,{strokeDasharray:"3 3",stroke:"#374151",vertical:!1}),e.jsx(b,{dataKey:"date",stroke:"#6B7280",tick:{fontSize:12},axisLine:!1,tickLine:!1}),e.jsx(A,{domain:["dataMin - 1000","dataMax + 1000"],stroke:"#6B7280",tickFormatter:t=>(t/1e3).toFixed(1),tick:{fontSize:12},axisLine:!1,tickLine:!1}),e.jsx(i,{contentStyle:{backgroundColor:"#111827",borderColor:"#374151",borderRadius:"8px"},labelStyle:{color:"#9CA3AF"},formatter:t=>[`${(Number(t)/1e3).toFixed(3)}s`,"Tiempo"]}),e.jsx(w,{type:"monotone",dataKey:"time",stroke:"#F59E0B",strokeWidth:3,dot:{fill:"#F59E0B",r:4,strokeWidth:0},activeDot:{r:6,stroke:"white",strokeWidth:2}})]})})})]}),e.jsxs("div",{className:"bg-gray-900 rounded-2xl shadow-sm border border-gray-800 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-800 flex justify-between items-center",children:e.jsxs("h2",{className:"text-gray-300 font-bold flex items-center gap-2",children:[e.jsx(m,{className:"text-blue-500"}),"Historial de Sesiones"]})}),e.jsx("div",{className:"p-6 space-y-4",children:s.recent_sessions.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-gray-800 border border-transparent hover:border-gray-700 transition-all",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-700 rounded-lg flex items-center justify-center shadow-sm text-gray-400",children:e.jsx(h,{size:20})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-gray-200 text-sm",children:t.track_name}),e.jsx("div",{className:"text-xs text-gray-500",children:t.car_model})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-mono font-bold text-sm text-gray-300",children:new Date(t.best_lap).toISOString().slice(14,23).replace(".",":")}),e.jsxs("div",{className:"text-xs text-gray-500",children:[_(new Date(t.date),{addSuffix:!0,locale:L})," • ",t.laps_count," vueltas"]})]})]},t.session_id))})]})]})}export{q as default};
