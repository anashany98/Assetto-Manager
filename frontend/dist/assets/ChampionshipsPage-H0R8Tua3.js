import{r as o,d as u,u as h,j as e,L as g,o as l,C as b,k as f,T as y}from"./index-MjGtIaAt.js";import{u as j}from"./useMutation-Ckz2NycH.js";import{c as N,g as v}from"./championships-D6zgKV6G.js";import{T as w}from"./triangle-alert-ko4KflD0.js";import{P as C}from"./plus-Dqq5J1Gg.js";function q(){const[n,s]=o.useState(!1),[a,r]=o.useState(""),c=u(),{data:i,isLoading:d,error:x}=h({queryKey:["championships"],queryFn:v}),m=j({mutationFn:N,onSuccess:()=>{c.invalidateQueries({queryKey:["championships"]}),s(!1),r("")}}),p=t=>{t.preventDefault(),a.trim()&&m.mutate({name:a,is_active:!0})};return d?e.jsxs("div",{className:"p-10 text-white text-center min-h-[400px] flex flex-col items-center justify-center",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-yellow-500/20 border-t-yellow-500 rounded-full animate-spin mb-4"}),e.jsx("p",{className:"font-bold text-yellow-500 animate-pulse uppercase tracking-widest text-sm",children:"Cargando campeonatos..."})]}):x?e.jsxs("div",{className:"p-10 text-white text-center min-h-[400px] flex flex-col items-center justify-center",children:[e.jsx(w,{size:48,className:"text-red-500 mb-4"}),e.jsx("p",{className:"font-bold text-red-400 uppercase tracking-widest text-sm",children:"Error al cargar campeonatos"}),e.jsx("p",{className:"text-gray-500 text-xs mt-2",children:"No se ha podido conectar con el servidor."})]}):e.jsxs("div",{className:"p-8 max-w-7xl mx-auto min-h-screen",children:[e.jsxs("div",{className:"flex justify-between items-center mb-10",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-black text-white italic uppercase tracking-tight mb-2",children:"Campeonatos & Ligas"}),e.jsx("p",{className:"text-gray-400",children:"Gestiona temporadas completas y clasificaciones generales."})]}),e.jsxs("button",{onClick:()=>s(!0),className:"bg-yellow-500 hover:bg-yellow-400 text-black font-bold py-3 px-6 rounded-xl flex items-center gap-2 transition-colors uppercase tracking-widest text-sm shadow-lg shadow-yellow-500/20",children:[e.jsx(C,{size:20}),"Nueva Temporada"]})]}),n&&e.jsx("div",{className:"mb-8 bg-gray-900 border border-gray-800 p-6 rounded-2xl animate-in slide-in-from-top-4",children:e.jsxs("form",{onSubmit:p,className:"flex gap-4",children:[e.jsx("input",{type:"text",value:a,onChange:t=>r(t.target.value),placeholder:"Nombre de la Temporada (ej. Copa Invierno 2026)",className:"flex-1 bg-black/50 border border-gray-700 rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-yellow-500 outline-none",autoFocus:!0}),e.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-500 text-white px-6 rounded-lg font-bold",children:"Crear"}),e.jsx("button",{type:"button",onClick:()=>s(!1),className:"text-gray-400 hover:text-white px-4",children:"Cancelar"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.isArray(i)?i.map(t=>e.jsxs(g,{to:`/championships/${t.id}`,className:"group bg-gray-900 hover:bg-gray-800 border border-white/5 hover:border-yellow-500/50 rounded-2xl p-6 transition-all relative overflow-hidden",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("div",{className:"p-3 bg-yellow-500/10 rounded-xl",children:e.jsx(l,{className:"text-yellow-500",size:32})}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-widest ${t.is_active?"bg-green-500/20 text-green-400":"bg-gray-700 text-gray-400"}`,children:t.is_active?"Activo":"Finalizado"})]}),e.jsx("h2",{className:"text-2xl font-black text-white italic uppercase tracking-tight mb-2 group-hover:text-yellow-400 transition-colors",children:t.name}),e.jsxs("div",{className:"flex items-center text-gray-500 text-sm mb-6",children:[e.jsx(b,{size:14,className:"mr-2"}),e.jsxs("span",{children:["Iniciado: ",new Date(t.start_date).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center text-blue-400 text-sm font-bold group-hover:translate-x-2 transition-transform",children:["Ver Clasificaci√≥n ",e.jsx(f,{size:16})]})]}),e.jsx(l,{className:"absolute -bottom-4 -right-4 text-white/5 rotate-[-15deg] transition-transform group-hover:rotate-12 group-hover:scale-110",size:150})]},t.id)):e.jsxs("div",{className:"col-span-full py-20 text-center text-gray-500 bg-gray-900/50 rounded-3xl border-2 border-dashed border-gray-800",children:[e.jsx(y,{size:48,className:"mx-auto mb-4 opacity-20"}),e.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"No hay campeonatos disponibles"})]})})]})}export{q as default};
