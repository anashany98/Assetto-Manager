import{n as o,u as n,j as e,L as r,T as x,C as m}from"./index-MjGtIaAt.js";import{a as h}from"./telemetry-bBsdFDJe.js";import{A as p}from"./arrow-left-PwRceB5D.js";import{S as f}from"./star-CL4c2zd3.js";import{T as b}from"./trending-up-BHF8h5rZ.js";import{R as i,X as u}from"./CartesianChart-byA6CRUy.js";import{R as j,P as g,a as N,b as y,c as v}from"./RadarChart-ByOG8kGW.js";import{C as k}from"./clock-DpL4IKBu.js";import{L as w,a as A}from"./LineChart-BAS0o-Op.js";import{C as L}from"./getRadiusAndStrokeWidthFromDot-hhzSCn0X.js";import{Y as E}from"./YAxis-hjvaWDO6.js";import{f as P}from"./format-CXITw4QJ.js";import{f as C}from"./formatDistanceToNow-DmnD85dQ.js";import{a as I}from"./es-D4NFJ41N.js";import"./clsx-B-dksMZM.js";import"./PolarChart-BobUyqbt.js";import"./en-US-BI35v3bL.js";function Y(){const{driverName:t}=o(),{data:s,isLoading:l}=n({queryKey:["pilot",t],queryFn:()=>h(t),enabled:!!t});if(l)return e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});if(!s)return e.jsxs("div",{className:"min-h-screen bg-black flex flex-col items-center justify-center p-8 text-center",children:[e.jsx("div",{className:"text-red-500 text-6xl mb-4 font-black",children:"404"}),e.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"PILOTO NO ENCONTRADO"}),e.jsx("p",{className:"text-gray-500 mb-8",children:"El perfil que buscas no existe o es privado."}),e.jsx(r,{to:"/",className:"px-6 py-3 bg-blue-600 text-white rounded-full font-bold",children:"Volver al Inicio"})]});const c=[{subject:"Consistencia",A:s.avg_consistency,fullMark:100},{subject:"Experiencia",A:Math.min(100,s.total_laps/5),fullMark:100},{subject:"Actividad",A:Math.min(100,s.active_days*10),fullMark:100},{subject:"Versatilidad",A:Math.min(100,s.records.length*20),fullMark:100},{subject:"Velocidad",A:s.elo_rating>1200?90:70,fullMark:100}],d=s.recent_sessions.slice().reverse().map(a=>({date:P(new Date(a.date),"dd/MM"),time:a.best_lap}));return e.jsxs("div",{className:"min-h-screen bg-gray-950 text-white pb-20",children:[e.jsxs("div",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800 p-4 flex items-center gap-4",children:[e.jsx(r,{to:"/",className:"p-2 bg-gray-800 rounded-full",children:e.jsx(p,{size:20})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-lg font-black italic uppercase truncate",children:t}),e.jsx("div",{className:"text-[10px] text-blue-400 font-bold uppercase tracking-widest",children:"PERFIL PÚBLICO DE PILOTO"})]}),e.jsxs("div",{className:"bg-blue-600 px-3 py-1 rounded-full text-xs font-black",children:["ELO ",Math.round(s.elo_rating)]})]}),e.jsxs("div",{className:"p-4 space-y-4 max-w-lg mx-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-gray-900 p-4 rounded-3xl border border-gray-800 flex flex-col items-center text-center",children:[e.jsx(x,{className:"text-yellow-500 mb-2",size:24}),e.jsx("div",{className:"text-2xl font-black",children:s.total_wins}),e.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"Victorias"})]}),e.jsxs("div",{className:"bg-gray-900 p-4 rounded-3xl border border-gray-800 flex flex-col items-center text-center",children:[e.jsx(f,{className:"text-blue-400 mb-2",size:24}),e.jsx("div",{className:"text-2xl font-black",children:s.total_podiums}),e.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"Podios"})]})]}),e.jsxs("div",{className:"bg-gray-900 p-6 rounded-3xl border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(b,{size:18,className:"text-blue-500"}),e.jsx("h3",{className:"text-sm font-black uppercase tracking-tighter",children:"ANÁLISIS DE RENDIMIENTO"})]}),e.jsx("div",{className:"h-64 w-full",children:e.jsx(i,{width:"100%",height:"100%",children:e.jsxs(j,{cx:"50%",cy:"50%",outerRadius:"80%",data:c,children:[e.jsx(g,{stroke:"#374151"}),e.jsx(N,{dataKey:"subject",tick:{fill:"#9CA3AF",fontSize:10,fontWeight:"bold"}}),e.jsx(y,{angle:30,domain:[0,100],tick:!1,axisLine:!1}),e.jsx(v,{name:t,dataKey:"A",stroke:"#3B82F6",strokeWidth:2,fill:"#3B82F6",fillOpacity:.3})]})})})]}),e.jsxs("div",{className:"bg-gray-900 p-6 rounded-3xl border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(k,{size:18,className:"text-orange-500"}),e.jsx("h3",{className:"text-sm font-black uppercase tracking-tighter",children:"EVOLUCIÓN EN PISTA"})]}),e.jsx("div",{className:"h-48 w-full",children:e.jsx(i,{width:"100%",height:"100%",children:e.jsxs(w,{data:d,children:[e.jsx(L,{strokeDasharray:"3 3",stroke:"#374151",vertical:!1}),e.jsx(u,{dataKey:"date",hide:!0}),e.jsx(E,{hide:!0,domain:["auto","auto"]}),e.jsx(A,{type:"monotone",dataKey:"time",stroke:"#F59E0B",strokeWidth:3,dot:!1})]})})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-xs font-black text-gray-500 uppercase border-b border-gray-800 pb-2",children:"ÚLTIMAS SESIONES"}),s.recent_sessions.slice(0,5).map(a=>e.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-2xl border border-gray-800 flex justify-between items-center group active:scale-95 transition-all",children:[e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-800 rounded-lg flex items-center justify-center text-gray-500",children:e.jsx(m,{size:18})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-bold text-white uppercase",children:a.track_name}),e.jsx("div",{className:"text-[10px] text-gray-500",children:a.car_model})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs font-mono font-bold text-blue-400",children:new Date(a.best_lap).toISOString().slice(14,23).replace(".",":")}),e.jsx("div",{className:"text-[10px] text-gray-600",children:C(new Date(a.date),{addSuffix:!0,locale:I})})]})]},a.session_id))]})]})]})}export{Y as default};
